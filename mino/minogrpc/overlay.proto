syntax = "proto3";

package minogrpc;

import "google/protobuf/any.proto";

message Message {
    bytes from = 1;
    google.protobuf.Any payload = 2;
}

// Envelope is wrapper around a message and one or several recipients.
message Envelope {
    repeated bytes to = 1;
    Message message = 2;
}

service Overlay {
    rpc Call(Message) returns (Message) {}
    rpc Relay(stream Envelope) returns (stream Envelope) {}
}